/*
 * PagarmeCoreApiLib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

package me.pagar.api.controllers;

import io.apimatic.core.ErrorCase;
import io.apimatic.core.GlobalConfiguration;
import io.apimatic.coreinterfaces.http.HttpClient;
import java.util.HashMap;
import java.util.Map;
import me.pagar.api.exceptions.ApiException;
import me.pagar.api.exceptions.ErrorException;

/**
 * Base class for all Controllers.
 */
public abstract class BaseController {
    protected final static String AUTHENTICATION_KEY = "global";
    protected static final Map<String, ErrorCase<ApiException>> GLOBAL_ERROR_CASES =
            new HashMap<String, ErrorCase<ApiException>>();
    private GlobalConfiguration globalConfig;
    static {
        GLOBAL_ERROR_CASES.put("400", ErrorCase.create("Invalid request",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put("401", ErrorCase.create("Invalid API key",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put("404", ErrorCase.create("An informed resource was not found",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put("412", ErrorCase.create("Business validation error",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put("422", ErrorCase.create("Contract validation error",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put("500", ErrorCase.create("Internal server error",
                (reason, context) -> new ErrorException(reason, context)));
        GLOBAL_ERROR_CASES.put(ErrorCase.DEFAULT, ErrorCase.create("HTTP Response Not OK",
                (reason, context) -> new ApiException(reason, context)));
    }

    protected BaseController(GlobalConfiguration globalConfig) {
        this.globalConfig = globalConfig;
    }

    
    /**
     * Shared instance of the Http client.
     * @return The shared instance of the http client 
     */
    public HttpClient getClientInstance() {
        return globalConfig.getHttpClient();
    }

    /**
     * Instance of the Global Configuration
     * @return The instance of the global configuration 
     */
    protected GlobalConfiguration getGlobalConfiguration() {
        return globalConfig;
    }
}
